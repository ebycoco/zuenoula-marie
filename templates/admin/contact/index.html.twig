{% extends 'AdminBase1.html.twig' %}


{% block title %}contacts index

{% endblock %}

{% block body %}
	<div class="container-fluid">
		{% include 'admin/adminbase/notification.html.twig'%}

		<!-- Page Heading -->
		<div class="d-sm-flex align-items-center justify-content-between mb-4">
			<h1 class="h3 mb-0 text-gray-800">Contact
			</h1>
		</div>

		<div class="card shadow mb-4">
			<div class="card-header py-3">
				<h6 class="m-0 font-weight-bold text-primary">Liste des contacts
				</h6>
			</div>
			<div class="card shadow mb-4">
				<div class="card-body">
					<div class="table-responsive">
						<table class="table table-bordered" id="" width="100%" cellspacing="0">
							<thead>
								<tr>
									<th>Id</th>
									<th>Name</th>
									<th>Email</th>
									<th>Objet</th>
									<th>actions</th>
								</tr>
							</thead>
							<tbody>
								{% for contact in contacts %}
									<tr>
										<td>{{ contact.id }}</td>
										<td>{{ contact.name }}</td>
										<td>{{ contact.email }}</td>
										<td>{{ contact.objet }}</td>
										<td class="text-center">
											<div class="row">
												<div class="col-md-5">
													<a href="" class="btn btn-warning btn-icon-split" data-toggle="modal" data-target="#modal{{ contact.id }}" type="button">

														<span class="icon text-white-50">
															<i class="fas fa-eye"></i>
														</span>
														<span class="text">Voir</span>
													</a>
												</div>
												<div class="col-md-5">
													{{ include('admin/contact/_delete_form.html.twig') }}
												</div>
											</div>
											<div class="modal fade" id="modal{{ contact.id }}" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">


												<div class="modal-dialog" role="document">
													<div class="modal-content">
														<div class="modal-header">
															<h5 class="modal-title mt-0">Message de
																{{ contact.name }}</h5>


															<button type="button" class="close" data-dismiss="modal" aria-label="Close">
																<span aria-hidden="true">&times;</span>
															</button>
														</div>
														<div class="modal-body">
															<div class="card profil">
																<div class="card-body">
																	{{ contact.message }}

																	<div class="modal-footer">
																		<button type="button" class="btn btn-secondary" data-dismiss="modal">Fermer</button>
																	</div>
																</div>
															</div>
														</div>
													</div>
													<!-- /.modal-content -->
												</div>
												<!-- /.modal-dialog -->
											</div>
											<!-- /.modal -->
										</td>
									</tr>
								</div>
							</tbody>
						</td>
					</tr>
				{% else %}
					<tr>
						<td colspan="6">Pas de contact</td>
					</tr>
				{% endfor %}
			</tbody>
		</table>
		<div class="col-md-6 offset-md-3">
			{% do contacts.setPageRange(3) %}

			{{knp_pagination_render(contacts,'base/pagination.html.twig')}}


		</div>
	</div>
</div></div></div></div>{% endblock %}
